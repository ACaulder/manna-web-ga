import{f as v,a as l}from"../chunks/BUlJwuR3.js";import"../chunks/BTdNyzyd.js";import{a0 as Ka,a7 as g,a1 as Ta,a2 as Wa,a3 as Aa,a5 as s,a4 as e,a6 as a,ab as ra,a8 as L,b as r,p as _}from"../chunks/DnZ8aS1A.js";import{e as _a,i as ga}from"../chunks/DYUyerag.js";import{s as c}from"../chunks/0SPjzxuk.js";import{i as m}from"../chunks/BtGiakpZ.js";import{h as Ua}from"../chunks/Cr_bPx8e.js";import{s as za}from"../chunks/B1NNja7f.js";import{i as Ga}from"../chunks/CBqTb_35.js";import{p as Ha}from"../chunks/B0Pe6GuM.js";const Ia=async({url:V,fetch:M})=>{const P=V.origin,[R,k]=await Promise.all([M("/api/ping"),M("/api/captures")]);let S=null;R.ok&&(S=await R.json());let j=null;return k.ok&&(j=await k.json()),{origin:P,ping:S,captures:j}},Be=Object.freeze(Object.defineProperty({__proto__:null,load:Ia},Symbol.toStringTag,{value:"Module"}));var qa=v('<meta name="robots" content="noindex,nofollow"/>'),Ja=v('<li class="svelte-1uha8ag"> </li>'),Qa=v('<ul class="mini-list svelte-1uha8ag"></ul>'),Va=v('<p class="manna-title svelte-1uha8ag"> </p> <!>',1),Xa=v('<p class="hint svelte-1uha8ag">No BE items found in the latest capture.</p>'),Ya=v('<p class="hint svelte-1uha8ag"> </p>'),Za=v('<p class="manna-title svelte-1uha8ag"> </p> <!>',1),$a=v('<p class="hint svelte-1uha8ag">No KNOW items found in the latest capture.</p>'),ae=v('<p class="hint svelte-1uha8ag">Due: <code class="svelte-1uha8ag"> </code></p>'),ee=v('<p class="manna-title svelte-1uha8ag"> </p> <!>',1),te=v('<p class="hint svelte-1uha8ag">No DO items found in the latest capture.</p>'),se=v('<p class="hint svelte-1uha8ag"> </p>'),re=v('<p class="manna-title svelte-1uha8ag"> </p> <!>',1),le=v('<p class="hint svelte-1uha8ag">No FEEL items found in the latest capture.</p>'),ve=v('<span class="tag svelte-1uha8ag"> </span>'),oe=v('<span class="tag tag-domain svelte-1uha8ag"> </span>'),ie=v('<p class="hint svelte-1uha8ag"> </p>'),ne=v('<li class="svelte-1uha8ag"><strong> </strong> <!> <!> <!></li>'),ce=v('<ul class="people-list svelte-1uha8ag"></ul>'),ue=v('<p class="hint svelte-1uha8ag">No people attached to the latest capture.</p>'),pe=v('<div class="manna-grid svelte-1uha8ag"><div class="manna-card svelte-1uha8ag"><h3 class="svelte-1uha8ag">Be</h3> <!></div> <div class="manna-card svelte-1uha8ag"><h3 class="svelte-1uha8ag">Know</h3> <!></div> <div class="manna-card svelte-1uha8ag"><h3 class="svelte-1uha8ag">Do</h3> <!></div> <div class="manna-card svelte-1uha8ag"><h3 class="svelte-1uha8ag">Feel</h3> <!></div></div> <div class="subsection svelte-1uha8ag"><h3 class="svelte-1uha8ag">People surfaced</h3> <!></div>',1),he=v(`<p class="hint svelte-1uha8ag">No captures found yet. Once you start processing voice notes into captures, today&apos;s BE
				/ KNOW / DO / FEEL will show up here.</p>`),de=v('<p class="hint svelte-1uha8ag"> </p>'),_e=v('<p class="hint svelte-1uha8ag">No capture summary available. Check that <code class="svelte-1uha8ag">/api/captures</code> is returning data.</p>'),ge=v('<p class="status-line svelte-1uha8ag"><span></span> <span class="status-text svelte-1uha8ag"> <span class="env svelte-1uha8ag"> </span></span></p> <p class="hint svelte-1uha8ag">Last health check: <code class="svelte-1uha8ag"> </code></p> <p class="hint svelte-1uha8ag">Raw endpoint: <code class="svelte-1uha8ag"> </code></p>',1),me=v('<p class="hint svelte-1uha8ag">Status check unavailable. If this persists, verify that <code class="svelte-1uha8ag">/api/ping</code> is reachable.</p>'),fe=v(`<section class="shell svelte-1uha8ag"><h1 class="svelte-1uha8ag">Manna</h1> <p class="lead svelte-1uha8ag">A private space to prototype your Digital Brain.</p> <p class="lead svelte-1uha8ag">Below are today&apos;s portion from your captures, your calendar feeds, and system status.</p> <div class="section svelte-1uha8ag"><h2 class="svelte-1uha8ag">Today&apos;s Manna (from captures)</h2> <!></div> <div class="section svelte-1uha8ag"><h2 class="svelte-1uha8ag">Capture pipeline</h2> <!></div> <div class="section svelte-1uha8ag"><h2 class="svelte-1uha8ag">Calendar feeds</h2> <ul class="svelte-1uha8ag"><li class="svelte-1uha8ag"><strong>Prayer Rhythm</strong> <div class="url svelte-1uha8ag"><code class="svelte-1uha8ag"> </code></div> <p class="hint svelte-1uha8ag">Daily prayer anchor. Subscribe in Apple Calendar, Google Calendar, or any app that
					supports .ics URLs.</p></li> <li class="svelte-1uha8ag"><strong>Reachout Rhythm</strong> <div class="url svelte-1uha8ag"><code class="svelte-1uha8ag"> </code></div> <p class="hint svelte-1uha8ag">Weekly relational prompts on Monday, Wednesday, and Friday.</p></li></ul></div> <div class="section svelte-1uha8ag"><h2 class="svelte-1uha8ag">System status</h2> <!></div> <p class="footnote svelte-1uha8ag">Manna is online but hidden from search. Anyone you share these URLs with can subscribe, but
		crawlers are told to stay out.</p></section>`);function Ee(V,M){Ka(M,!1);let P=Ha(M,"data",8);const R=P().origin,k=P().ping,S=P().captures,j=S?.captures??[],D=S?.summary??null,O=j[j.length-1]??null,F=O?.be[0]??null,U=O?.know[0]??null,z=O?.do[0]??null,G=O?.feel[0]??null,la=O?.people??[];Ga();var X=fe();Ua("1uha8ag",n=>{var p=qa();Wa(()=>{Aa.title="Manna · Home"}),l(n,p)});var Y=s(e(X),6),ma=s(e(Y),2);{var fa=n=>{var p=pe(),N=L(p),C=e(N),H=s(e(C),2);{var I=t=>{var o=Va(),h=L(o),i=e(h,!0);a(h);var f=s(h,2);{var y=d=>{var u=Qa();_a(u,5,()=>r(()=>F.practices),ga,(w,E)=>{var W=Ja(),sa=e(W,!0);a(W),g(()=>c(sa,_(E))),l(w,W)}),a(u),l(d,u)};m(f,d=>{r(()=>F.practices&&F.practices.length)&&d(y)})}g(()=>c(i,r(()=>F.statement))),l(t,o)},q=t=>{var o=Xa();l(t,o)};m(H,t=>{F?t(I):t(q,!1)})}a(C);var K=s(C,2),T=s(e(K),2);{var J=t=>{var o=Za(),h=L(o),i=e(h,!0);a(h);var f=s(h,2);{var y=d=>{var u=Ya(),w=e(u);a(u),g(()=>c(w,`Lie it confronts: ${r(()=>U.lie)??""}`)),l(d,u)};m(f,d=>{r(()=>U.lie)&&d(y)})}g(()=>c(i,r(()=>U.truth))),l(t,o)},ea=t=>{var o=$a();l(t,o)};m(T,t=>{U?t(J):t(ea,!1)})}a(K);var B=s(K,2),Q=s(e(B),2);{var ta=t=>{var o=ee(),h=L(o),i=e(h,!0);a(h);var f=s(h,2);{var y=d=>{var u=ae(),w=s(e(u)),E=e(w,!0);a(w),a(u),g(()=>c(E,r(()=>z.due))),l(d,u)};m(f,d=>{r(()=>z.due)&&d(y)})}g(()=>c(i,r(()=>z.action))),l(t,o)},Ca=t=>{var o=te();l(t,o)};m(Q,t=>{z?t(ta):t(Ca,!1)})}a(B);var ha=s(B,2),Ba=s(e(ha),2);{var Ea=t=>{var o=re(),h=L(o),i=e(h,!0);a(h);var f=s(h,2);{var y=d=>{var u=se(),w=e(u);a(u),g(()=>c(w,`Desired direction: ${r(()=>G.desired_direction)??""}`)),l(d,u)};m(f,d=>{r(()=>G.desired_direction)&&d(y)})}g(()=>c(i,r(()=>G.current_emotion))),l(t,o)},La=t=>{var o=le();l(t,o)};m(Ba,t=>{G?t(Ea):t(La,!1)})}a(ha),a(N);var da=s(N,2),Ma=s(e(da),2);{var Pa=t=>{var o=ce();_a(o,5,()=>la,ga,(h,i)=>{var f=ne(),y=e(f),d=e(y,!0);a(y);var u=s(y,2);{var w=x=>{var b=ve(),A=e(b,!0);a(b),g(()=>c(A,(_(i),r(()=>_(i).relationship)))),l(x,b)};m(u,x=>{_(i),r(()=>_(i).relationship)&&x(w)})}var E=s(u,2);{var W=x=>{var b=oe(),A=e(b,!0);a(b),g(Fa=>c(A,Fa),[()=>(_(i),r(()=>_(i).domains.join(", ")))]),l(x,b)};m(E,x=>{_(i),r(()=>_(i).domains&&_(i).domains.length)&&x(W)})}var sa=s(E,2);{var ja=x=>{var b=ie(),A=e(b,!0);a(b),g(()=>c(A,(_(i),r(()=>_(i).note)))),l(x,b)};m(sa,x=>{_(i),r(()=>_(i).note)&&x(ja)})}a(f),g(()=>c(d,(_(i),r(()=>_(i).name??_(i).person_id)))),l(h,f)}),a(o),l(t,o)},Sa=t=>{var o=ue();l(t,o)};m(Ma,t=>{r(()=>la.length)?t(Pa):t(Sa,!1)})}a(da),l(n,p)},ya=n=>{var p=he();l(n,p)};m(ma,n=>{O?n(fa):n(ya,!1)})}a(Y);var Z=s(Y,2),xa=s(e(Z),2);{var ba=n=>{var p=de(),N=e(p);a(p),g(()=>c(N,`Total: ${r(()=>D.total)??""} · Captured: ${r(()=>D.captured)??""} · Transcribed: ${r(()=>D.transcribed)??""} ·
				Structured: ${r(()=>D.structured)??""} · Reviewed: ${r(()=>D.reviewed)??""}`)),l(n,p)},wa=n=>{var p=_e();l(n,p)};m(xa,n=>{D?n(ba):n(wa,!1)})}a(Z);var $=s(Z,2),va=s(e($),2),aa=e(va),oa=s(e(aa),2),ia=e(oa),ka=e(ia);a(ia),a(oa),ra(2),a(aa);var na=s(aa,2),ca=s(e(na),2),ua=e(ca),Na=e(ua);a(ua),a(ca),ra(2),a(na),a(va),a($);var pa=s($,2),Ra=s(e(pa),2);{var Da=n=>{var p=ge(),N=L(p),C=e(N),H=s(C,2),I=e(H),q=s(I),K=e(q);a(q),a(H),a(N);var T=s(N,2),J=s(e(T)),ea=e(J,!0);a(J),a(T);var B=s(T,2),Q=s(e(B)),ta=e(Q);a(Q),a(B),g(()=>{za(C,1,`status-dot ${r(()=>k.status==="ok"?"ok":"warn")??""}`,"svelte-1uha8ag"),c(I,`${r(()=>k.status==="ok"?"Online":k.status)??""} `),c(K,`(${r(()=>k.env)??""})`),c(ea,r(()=>k.timestamp)),c(ta,`${R??""}/api/ping`)}),l(n,p)},Oa=n=>{var p=me();l(n,p)};m(Ra,n=>{k?n(Da):n(Oa,!1)})}a(pa),ra(2),a(X),g(()=>{c(ka,`${R??""}/prayer.ics`),c(Na,`${R??""}/reachout.ics`)}),l(V,X),Ta()}export{Ee as component,Be as universal};
