#!/bin/sh
# Block pushes *to main* only. Allow other pushes (like deleting branches).

while read -r local_ref local_sha remote_ref remote_sha; do
  if [ "$remote_ref" = "refs/heads/main" ]; then
    echo "ðŸš« Refusing to push directly to main. Create a branch + PR."
    exit 1
  fi
done

exit 0
